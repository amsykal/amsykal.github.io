---
layout: post
title: "Minimum Sum Sub-Triangle"
category: Project Euler
tags: [triangle array, python, project euler]
date: 2021-01-02

---
#### PROBLEM

[Problem](https://projecteuler.net/problem=150)

Given a triangular array with integers generated by a pseudorandom generator function, find the sub-triangle with minimum sum.

---

**STORING THE DATA**

We store the data in a list of lists, say t.

First row of the list corresponding to index 0 has 1 element.

The second row has 2 elements and so on.

i.e t[0] has 1 element, t[1] has 2 , t[2] has 3 and so on.

**FINDING THE MINIMUM SUM SUB-TRIANGLE**

The idea is to consider every entry (r,c) in tr as the apex of a triangle. Consider every possible sub triangle with this apex and then compute the sum.

Minimum among all such combinations is the answer.

Given that there are n rows with i+1 columns for i'th row and (n-r) possible depths for each apex, this algorithm runs in $O(n^3)$ time.It is not very computationally efficient and takes slightly under a minute to run in Python. One step to save some computational time is to precalculate running sums for each row.

---

In essence,

For an apex at r,c and for depth n

$t(r,c,n) = t(r,c,n-1) + \sum_{i=c}^{c+n-1}tr[r+1,i]$

Where t(r,c,n) is sum of all entries in triangle with apex at r,c and depth n and tr is the triangle.

The sum $\sum_{i=c}^{c+n-1}tr[r+1,i]$ can be computed by maintaining a 2d list that keeps track of the running sum for each row.

Below is a partial Python snippet to solve this problem.

---

```
# ns = number of rows in the triangle
# trsum stores the running sum for each row
# for eg
# tr[2][3] gives the running sum of elements in row 2 from column 0 to 3

# initalize minimum
ans = 10**10

# for every element in r,c and depth n ,compute sum
for r in range(ns-1):
    for c in range(r+1):
        b = 0
        for n in range(1,ns-r+1):
            if c > 0:
                b += trsum[r+n-1][c+n-1]-trsum[r+n-1][c-1]
            else:
                b += trsum[r+n-1][c+n-1]
            if b < ans:
                ans = b

print(ans)

```
